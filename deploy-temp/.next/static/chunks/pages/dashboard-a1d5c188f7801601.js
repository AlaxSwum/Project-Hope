(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(8610)}])},8610:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var r=t(5893),a=t(9008),n=t.n(a),i=t(7294),o=t(1163),l=t(4891);class c{static getInstance(){return c.instance||(c.instance=new c),c.instance}isSupported(){return"geolocation"in navigator}async checkPermissionStatus(){if(!this.isSupported())return{granted:!1,denied:!0,canPrompt:!1,message:"Location services not supported by your browser"};try{if(!("permissions"in navigator))return{granted:!1,denied:!1,canPrompt:!0,message:"Ready to request location permission"};{let e=await navigator.permissions.query({name:"geolocation"}),s={granted:"granted"===e.state,denied:"denied"===e.state,canPrompt:"prompt"===e.state,message:this.getPermissionMessage(e.state)};return this.permissionState=s,s}}catch(e){return{granted:!1,denied:!1,canPrompt:!0,message:"Unable to determine permission status"}}}async requestLocationAccess(){return this.isSupported()?(console.log("\uD83C\uDF0D Requesting location access..."),new Promise(e=>{navigator.geolocation.getCurrentPosition(s=>{let t={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:Date.now()};this.currentPosition=t,console.log("✅ Location access granted:",t),e({success:!0,coordinates:t})},s=>{console.log("❌ Location access failed:",s);let t="Failed to get your location",r=!1;switch(s.code){case 1:t="Location access was denied. Please enable location permissions in your browser settings.",r=!0;break;case 2:t="Your location is currently unavailable. Please ensure location services are enabled on your device.";break;case 3:t="Location request timed out. Please try again or move to an area with better GPS signal.";break;default:t="Location error: ".concat(s.message)}e({success:!1,error:t,needsPermission:r})},{enableHighAccuracy:!0,timeout:2e4,maximumAge:0})})):{success:!1,error:"Location services are not supported by your browser",needsPermission:!1}}async getCurrentPosition(){return this.isSupported()?(console.log("\uD83D\uDCCD Getting current position..."),new Promise(e=>{navigator.geolocation.getCurrentPosition(s=>{let t={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:Date.now()};this.currentPosition=t,console.log("✅ Position obtained:",t),e({success:!0,coordinates:t})},s=>{console.log("❌ Position failed:",s),e({success:!1,error:this.getLocationErrorMessage(s),needsPermission:1===s.code})},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})})):{success:!1,error:"Location services not supported"}}calculateDistance(e,s){let t=this.toRadians(e.latitude),r=this.toRadians(s.latitude),a=this.toRadians(s.latitude-e.latitude),n=this.toRadians(s.longitude-e.longitude),i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t)*Math.cos(r)*Math.sin(n/2)*Math.sin(n/2);return Math.round(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3)}async checkWorkLocation(e,s,t){let r=await this.getCurrentPosition();if(!r.success||!r.coordinates)throw Error(r.error||"Failed to get location");let a=this.calculateDistance(r.coordinates,{latitude:e,longitude:s});return{isWithinRadius:a<=t,distance:a,userCoords:r.coordinates,accuracy:r.coordinates.accuracy}}formatDistance(e){return e<1e3?"".concat(e,"m"):"".concat((e/1e3).toFixed(1),"km")}formatAccuracy(e){return e?e<=5?"Very high accuracy (\xb1".concat(Math.round(e),"m)"):e<=20?"High accuracy (\xb1".concat(Math.round(e),"m)"):e<=100?"Medium accuracy (\xb1".concat(Math.round(e),"m)"):"Low accuracy (\xb1".concat(Math.round(e),"m)"):"Unknown accuracy"}getLocationStatusMessage(e,s,t){return e?"OK: You are at your workplace (".concat(this.formatDistance(s)," from center)"):"Error: You are ".concat(this.formatDistance(s-t)," beyond the allowed work area")}getBrowserInstructions(){let e=navigator.userAgent.toLowerCase();return e.includes("chrome")?"Chrome: Look for a location popup dialog, or click the location icon in the address bar → Allow":e.includes("safari")?"Safari: Look for a location popup dialog, or go to Settings → Privacy & Security → Location Services → Safari Websites → Allow":e.includes("firefox")?"Firefox: Look for a location popup dialog, or click the shield icon → Location → Allow":e.includes("edge")?"Edge: Look for a location popup dialog, or click the location icon in the address bar → Allow":"Look for a location permission popup dialog, or find the location icon in your browser and select Allow"}toRadians(e){return Math.PI/180*e}getPermissionMessage(e){switch(e){case"granted":return"Location permission granted";case"denied":return"Location permission denied - please enable in browser settings";case"prompt":return"Ready to request location permission";default:return"Unknown permission state"}}getLocationErrorMessage(e){switch(e.code){case 1:return"Location access denied. Please enable location permissions.";case 2:return"Location unavailable. Please enable location services.";case 3:return"Location request timed out. Please try again.";default:return"Location error: ".concat(e.message)}}constructor(){this.currentPosition=null,this.permissionState=null}}let d=c.getInstance();var x=e=>{var s;let{userId:t,userBranchId:a}=e,[n,o]=(0,i.useState)(null),[c,x]=(0,i.useState)(null),[m,h]=(0,i.useState)(!1),[u,g]=(0,i.useState)(""),[p,j]=(0,i.useState)(""),[f,v]=(0,i.useState)(""),[b,y]=(0,i.useState)(!1),[N,w]=(0,i.useState)({checking:!1,hasPermission:!1,needsPermission:!0,withinRadius:!1}),[k,L]=(0,i.useState)(!1),[C,M]=(0,i.useState)(!1),[_,S]=(0,i.useState)(null),[P,W]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>{g(new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[]),(0,i.useEffect)(()=>{if(null==n?void 0:n.clock_in_time){let e=()=>{let e=new Date(n.clock_in_time),s=new Date().getTime()-e.getTime();j("".concat(Math.floor(s/36e5),"h ").concat(Math.floor(s%36e5/6e4),"m"))};e();let s=setInterval(e,6e4);return()=>clearInterval(s)}j("")},[n]),(0,i.useEffect)(()=>{B(),a&&D(),A()},[t,a]),(0,i.useEffect)(()=>{n&&z()},[n]);let B=async()=>{try{let{data:e,error:s}=await l.bR.getCurrentTimeEntry(t);s?console.error("Error loading current entry:",s):o(e)}catch(e){console.error("Error loading current entry:",e)}},D=async()=>{if(a)try{let{data:e,error:s}=await l.bR.getBranchLocation(a);s?console.error("Error loading branch location:",s):x(e)}catch(e){console.error("Error loading branch location:",e)}},z=async()=>{if(n)try{let{data:e,error:s}=await l.bR.getActiveBreak(n.id);s?console.error("Error loading current break:",s):S(e)}catch(e){console.error("Error loading current break:",e)}},A=async()=>{if(!d.isSupported()){w({checking:!1,hasPermission:!1,needsPermission:!1,withinRadius:!1,error:"Location services not supported by your device"});return}let e=await d.checkPermissionStatus();w(s=>({...s,hasPermission:e.granted,needsPermission:!e.granted&&e.canPrompt,error:e.denied?e.message:void 0}))},E=async()=>{M(!0),L(!1);try{let e=await d.requestLocationAccess();if(e.success)return w(e=>({...e,hasPermission:!0,needsPermission:!1,error:void 0})),setTimeout(()=>{R()},500),!0;return w(s=>({...s,hasPermission:!1,needsPermission:e.needsPermission||!1,error:e.error})),e.needsPermission&&L(!0),!1}catch(e){return w(s=>({...s,error:e.message||"Failed to request location permission"})),!1}finally{M(!1)}},R=async()=>{if(!c)return w(e=>({...e,checking:!1,error:"No workplace location configured for your branch"})),null;w(e=>({...e,checking:!0,error:void 0}));try{let e=await d.checkWorkLocation(c.latitude,c.longitude,c.radius_meters);if(e)return w(s=>({...s,checking:!1,withinRadius:e.isWithinRadius,distance:e.distance,accuracy:e.accuracy,lastChecked:new Date})),e.userCoords}catch(e){w(s=>{var t,r;return{...s,checking:!1,error:e.message||"Failed to get your location",needsPermission:(null===(t=e.message)||void 0===t?void 0:t.includes("denied"))||(null===(r=e.message)||void 0===r?void 0:r.includes("permission"))}})}return null},T=async()=>{if(!a){alert("No branch assigned. Please contact your administrator.");return}if(N.hasPermission||(console.log("\uD83C\uDF0D Auto-requesting location permission for clock in..."),await E())){h(!0);try{let e=await R();if(!e){alert("Could not verify your location. Please try again."),h(!1);return}if(!N.withinRadius){let e=d.formatDistance(N.distance||0);if(!confirm("You are ".concat(e," away from your workplace. Are you sure you want to clock in?"))){h(!1);return}}let{data:s,error:r}=await l.bR.clockIn({user_id:t,branch_id:a,clock_in_latitude:e.latitude,clock_in_longitude:e.longitude,notes:f.trim()||void 0});if(r)alert("Failed to clock in: "+r.message);else{o(s),v(""),y(!1);let e=N.withinRadius?"":" (location exception - please speak with your supervisor)";alert("✅ Successfully clocked in".concat(e,"!"))}}catch(e){alert("Error clocking in: "+e.message)}finally{h(!1)}}},H=async()=>{if(n&&confirm("Are you sure you want to clock out?\n\nWorking time: ".concat(p))){h(!0);try{let s=await R();if(!s&&!confirm("Could not verify your location. Do you want to clock out anyway?")){h(!1);return}let{data:t,error:r}=await l.bR.clockOut(n.id,{latitude:(null==s?void 0:s.latitude)||0,longitude:(null==s?void 0:s.longitude)||0,notes:f.trim()||void 0});if(r)alert("Failed to clock out: "+r.message);else{var e;o(null),v(""),y(!1),alert("✅ Successfully clocked out!\n\nTotal working time: ".concat(null==t?void 0:null===(e=t.total_hours)||void 0===e?void 0:e.toFixed(1),"h"))}}catch(e){alert("Error clocking out: "+e.message)}finally{h(!1)}}},F=async()=>{if(n){W(!0);try{let{data:e,error:s}=await l.bR.startBreak({time_entry_id:n.id,break_type:"break",notes:f.trim()||void 0});s?alert("Failed to start break: "+s.message):(S(e),v(""),y(!1),alert("✅ Break started!"))}catch(e){alert("Error starting break: "+e.message)}finally{W(!1)}}},I=async()=>{if(_){W(!0);try{let{data:e,error:s}=await l.bR.endBreak(_.id);s?alert("Failed to end break: "+s.message):(S(null),alert("✅ Break ended!"))}catch(e){alert("Error ending break: "+e.message)}finally{W(!1)}}};return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6 space-y-4 md:space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-2",children:"Time Tracking"}),(0,r.jsx)("div",{className:"text-2xl md:text-3xl font-mono font-bold text-indigo-600",children:u}),p&&(0,r.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Working: ",p]}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Location Required for Clock In/Out"})})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-white font-medium ".concat(n?"bg-green-500":"bg-gray-400"),children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),n?"CLOCKED IN":"CLOCKED OUT"]}),n&&p&&(0,r.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["Working for: ",(0,r.jsx)("span",{className:"font-semibold text-indigo-600",children:p})]}),(null==n?void 0:n.clock_in_time)&&(0,r.jsxs)("div",{className:"mt-1 text-xs text-gray-500",children:["Started at: ",new Date(n.clock_in_time).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})]})]}),!N.hasPermission&&k&&(0,r.jsx)("div",{className:"border border-amber-200 bg-amber-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-amber-600 font-bold text-xs border border-amber-600 rounded-full flex items-center justify-center",children:"!"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-amber-800",children:"Location Access Needed"}),(0,r.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Location access was denied. To use time tracking, please enable location permissions."}),(0,r.jsx)("div",{className:"mt-3 p-3 bg-amber-100 rounded-lg",children:(0,r.jsx)("p",{className:"text-xs text-amber-800 font-medium",children:d.getBrowserInstructions()})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[(0,r.jsx)("button",{onClick:E,disabled:C,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 font-medium disabled:bg-gray-400 flex items-center justify-center space-x-2",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,r.jsx)("span",{children:"Requesting Permission..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Location"}),(0,r.jsx)("span",{children:"Try Again"})]})}),(0,r.jsx)("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded-lg hover:bg-gray-300",children:"Dismiss"})]})]})]})}),N.hasPermission&&(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Location Status"}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)("button",{onClick:R,disabled:N.checking,className:"text-xs text-indigo-600 hover:text-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:N.checking?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{children:"Checking..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,r.jsx)("span",{children:"Check Location"})]})})})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[N.checking?(0,r.jsx)("span",{className:"text-sm font-medium",children:"Checking..."}):N.error?(0,r.jsx)("span",{className:"text-sm font-medium",children:"Error"}):N.withinRadius?(0,r.jsx)("span",{className:"text-sm font-medium",children:"OK"}):(0,r.jsx)("span",{className:"text-sm font-medium",children:"Location"}),(0,r.jsxs)("div",{className:"flex-1 text-xs text-gray-600",children:[N.checking?"Checking your location...":N.error?N.error:c?void 0!==N.distance?d.getLocationStatusMessage(N.withinRadius,N.distance,c.radius_meters):"Location not checked yet":"No workplace location configured",N.accuracy&&(0,r.jsxs)("div",{className:"mt-1 text-gray-500",children:["GPS accuracy: ",d.formatAccuracy(N.accuracy)]}),N.lastChecked&&(0,r.jsxs)("div",{className:"mt-1 text-gray-500",children:["Last checked: ",N.lastChecked.toLocaleTimeString()]})]})]})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsxs)("button",{onClick:()=>y(!b),className:"flex items-center justify-between w-full text-sm font-medium text-gray-700 hover:text-gray-900",children:[(0,r.jsx)("span",{children:"Add Note (Optional)"}),(0,r.jsx)("svg",{className:"w-4 h-4 transform transition-transform ".concat(b?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),placeholder:"Add any notes about your work shift...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500 focus:border-indigo-500 resize-none",rows:3})})]}),(0,r.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[n?(0,r.jsx)("button",{onClick:H,disabled:m,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-semibold py-3 md:py-4 px-4 md:px-6 rounded-lg transition-colors flex items-center justify-center space-x-2 text-base md:text-lg",children:m?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{children:"Clock Out"})]})}):(0,r.jsx)("button",{onClick:T,disabled:m||!a||!N.hasPermission,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-3 md:py-4 px-4 md:px-6 rounded-lg transition-colors flex items-center justify-center space-x-2 text-base md:text-lg",children:m?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,r.jsx)("span",{children:"Clock In with Location"})]})}),n&&!n.clock_out_time&&(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:_?(0,r.jsx)("button",{onClick:I,disabled:P,className:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:P?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:"End Break"})]})}):(0,r.jsx)("button",{onClick:F,disabled:P,className:"w-full bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:P?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m-10 5V7a3 3 0 013-3h4a3 3 0 013 3v12l-5-3-5 3z"})}),(0,r.jsx)("span",{children:"Take a Break"})]})})}),!a&&(0,r.jsx)("div",{className:"text-xs text-center text-red-600",children:"No branch assigned - contact your administrator"})]}),n&&(0,r.jsx)("div",{className:"border-t pt-4",children:(0,r.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Branch:"}),(0,r.jsx)("span",{className:"font-medium",children:(null===(s=n.branch)||void 0===s?void 0:s.branch_name)||"Unknown"})]}),n.clock_in_latitude&&n.clock_in_longitude&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Clock-in location:"}),(0,r.jsxs)("span",{className:"font-mono text-xs",children:[n.clock_in_latitude.toFixed(4),", ",n.clock_in_longitude.toFixed(4)]})]})]})})]})};let m=e=>{var s;let{checklist:t,items:a,userProgress:n,onClose:i,onItemToggle:o}=e,l=new Date().toISOString().split("T")[0],c=e=>n.find(s=>s.checklist_item_id===e&&s.date_for===l),d=a.filter(e=>{let s=c(e.id);return null==s?void 0:s.completed}).length,x=a.length,m=x>0?d/x*100:0;return(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:t.name}),(0,r.jsx)("p",{className:"text-green-100 text-sm mb-3",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,r.jsx)("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded",children:null===(s=t.folder)||void 0===s?void 0:s.name}),t.is_daily&&(0,r.jsx)("span",{className:"bg-blue-500 px-2 py-1 rounded",children:"Daily Reset"})]})]}),(0,r.jsx)("button",{onClick:i,className:"text-white hover:text-gray-200 p-1 ml-4",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900",children:"Today's Progress"}),(0,r.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[Math.round(m),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:(0,r.jsx)("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-500",style:{width:"".concat(m,"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:[d," of ",x," tasks completed"]}),(0,r.jsx)("span",{children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]}),(0,r.jsx)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"60vh"},children:0===a.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,r.jsx)("p",{className:"text-gray-500",children:"No tasks in this checklist"})]}):(0,r.jsx)("div",{className:"space-y-3",children:a.sort((e,s)=>e.sort_order-s.sort_order).map((e,s)=>{let a=c(e.id),n=(null==a?void 0:a.completed)||!1;return(0,r.jsxs)("div",{className:"flex items-start space-x-4 p-4 rounded-lg border transition-all duration-200 ".concat(n?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-green-300"),children:[(0,r.jsxs)("div",{className:"flex items-center pt-1",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-500 w-8",children:[s+1,"."]}),(0,r.jsx)("button",{onClick:()=>o(t.id,e.id,!n),className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ".concat(n?"bg-green-600 border-green-600 text-white":"border-gray-300 hover:border-green-500"),children:n&&(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h5",{className:"font-medium ".concat(n?"text-green-800 line-through":"text-gray-900"),children:e.title}),e.description&&(0,r.jsx)("p",{className:"text-sm mt-1 ".concat(n?"text-green-600":"text-gray-600"),children:e.description}),e.is_required&&(0,r.jsx)("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-red-100 text-red-700 rounded",children:"Required"}),(null==a?void 0:a.completed_at)&&(0,r.jsxs)("p",{className:"text-xs text-green-600 mt-2",children:["Completed at ",new Date(a.completed_at).toLocaleTimeString()]})]})]},e.id)})})}),(0,r.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:d===x&&x>0?(0,r.jsx)("span",{className:"text-green-600 font-medium",children:"\uD83C\uDF89 All tasks completed!"}):(0,r.jsxs)("span",{children:[x-d," tasks remaining"]})}),(0,r.jsx)("button",{onClick:i,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})})]})})};var h=()=>{var e,s,t,a,c,d,h;let u=(0,o.useRouter)(),[g,p]=(0,i.useState)(null),[j,f]=(0,i.useState)(null),[v,b]=(0,i.useState)(!0),[y,N]=(0,i.useState)("dashboard"),[w,k]=(0,i.useState)(null),[L,C]=(0,i.useState)(!1),[M,_]=(0,i.useState)(0),[S,P]=(0,i.useState)(0),[W,B]=(0,i.useState)(0),[D,z]=(0,i.useState)([]),[A,E]=(0,i.useState)(null),[R,T]=(0,i.useState)([]),[H,F]=(0,i.useState)([]),[I,V]=(0,i.useState)([]);(0,i.useEffect)(()=>{O()},[]),(0,i.useEffect)(()=>{g&&"checklists"===y&&(U(),Y(),K()),g&&"timetracking"===y&&G()},[g,y]);let O=async()=>{try{let e=await l.ON.getCurrentUser();if(!e){u.push("/login");return}p(e);try{let s=await l.ON.getCurrentUserWithProfile();f(null==s?void 0:s.profile);try{let{data:s}=await l.OQ.from("branch_staff_assignments").select("branch_id").eq("user_id",e.id).single();(null==s?void 0:s.branch_id)&&k(s.branch_id)}catch(e){console.log("No branch assignment found:",e);try{let{data:e}=await l.OQ.from("pharmacy_branches").select("id").eq("is_active",!0).limit(1).single();(null==e?void 0:e.id)&&k(e.id)}catch(e){console.log("No fallback branch found:",e)}}}catch(e){console.log("Profile data not available yet:",e)}}catch(e){console.error("Auth check failed:",e),u.push("/login")}finally{b(!1)}},q=async()=>{await l.ON.signOut(),u.push("/login")},U=async()=>{if(g)try{let{data:e,error:s}=await l.wt.getChecklistsForUser(g.id);s?console.error("Failed to load checklists:",s):z(e||[])}catch(e){console.error("Error loading checklists:",e)}},Y=async()=>{if(g)try{let{data:e,error:s}=await l.wt.getUserProgress(g.id);s?console.error("Failed to load progress:",s):F(e||[])}catch(e){console.error("Error loading progress:",e)}},K=async()=>{if(g)try{let{data:e,error:s}=await l.wt.getDailyStatus(g.id);s?console.error("Failed to load daily status:",s):V(e||[])}catch(e){console.error("Error loading daily status:",e)}},G=async()=>{if(g)try{let e=new Date,s=e.toISOString().split("T")[0],t=new Date(e),r=t.getDay(),a=t.getDate()-r+(0===r?-6:1);t.setDate(a);let n=t.toISOString().split("T")[0],i=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],[o,c,d]=await Promise.all([l.bR.getTimeEntries(g.id,s,s),l.bR.getTimeEntries(g.id,n,s),l.bR.getTimeEntries(g.id,i,s)]),x=e=>e.reduce((e,s)=>{if(s.clock_out_time){let t=new Date(s.clock_in_time),r=(new Date(s.clock_out_time).getTime()-t.getTime())/36e5;return e+r}return e},0);_(Math.round(100*x(o.data||[]))/100),P(Math.round(100*x(c.data||[]))/100),B(Math.round(100*x(d.data||[]))/100)}catch(e){console.error("Error loading total hours:",e)}},Q=async e=>{try{let{data:s,error:t}=await l.wt.getChecklistItems(e);t?console.error("Failed to load checklist items:",t):T(s||[])}catch(e){console.error("Error loading checklist items:",e)}},X=async(e,s,t)=>{if(g)try{let{error:r}=await l.wt.updateItemProgress({user_id:g.id,checklist_id:e,checklist_item_id:s,completed:t});r?(console.error("Failed to update progress:",r),alert("Failed to update progress")):(Y(),K())}catch(e){console.error("Error updating progress:",e),alert("Error updating progress")}};if(v)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})});let J=(null==j?void 0:j.role)||(null==g?void 0:null===(e=g.user_metadata)||void 0===e?void 0:e.role)||"staff",Z="administrator"===J,$=(null==j?void 0:j.first_name)||(null==g?void 0:null===(s=g.user_metadata)||void 0===s?void 0:s.first_name)||"User",ee=(null==j?void 0:j.last_name)||(null==g?void 0:null===(t=g.user_metadata)||void 0===t?void 0:t.last_name)||"",es=j?"".concat(j.first_name," ").concat(j.last_name):(null==g?void 0:null===(a=g.user_metadata)||void 0===a?void 0:a.full_name)||"".concat($," ").concat(ee);(null==j?void 0:j.username)||null==g||null===(c=g.user_metadata)||void 0===c||c.username,(null==j?void 0:j.phone)||null==g||null===(d=g.user_metadata)||void 0===d||d.phone;let et=(null==j?void 0:j.position)||(null==g?void 0:null===(h=g.user_metadata)||void 0===h?void 0:h.position)||"";null==g||g.id;let er=[{name:"Dashboard",id:"dashboard",icon:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6a2 2 0 01-2 2H10a2 2 0 01-2-2V5z"})]}),current:"dashboard"===y},{name:"Time Tracking",id:"timetracking",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),current:"timetracking"===y},{name:"Inventory",id:"inventory",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),current:"inventory"===y},{name:"Prescriptions",id:"prescriptions",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),current:"prescriptions"===y},{name:"Checklists",id:"checklists",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),current:"checklists"===y,count:D.length},{name:"Reports",id:"reports",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),current:"reports"===y},{name:"Settings",id:"settings",icon:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),current:"settings"===y}],ea=new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:"Dashboard - Hope Pharmacy IMS"})}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[L&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>C(!1)}),(0,r.jsx)("div",{className:"fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-6 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"H"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Hope Pharmacy"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Inventory Management"})]})]}),(0,r.jsx)("button",{onClick:()=>C(!1),className:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-white font-semibold text-sm",children:[$.charAt(0),ee.charAt(0)||$.charAt(1)]})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:es}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:[J," • ",(null==j?void 0:j.position)||"Staff"]})]})]}),Z&&(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("a",{href:"/admin/dashboard",className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:"→ Admin Dashboard"})})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:er.map(e=>(0,r.jsxs)("button",{onClick:()=>{N(e.id),C(!1)},className:"".concat(e.current?"bg-indigo-50 border-indigo-300 text-indigo-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:text-gray-900"," group flex items-center px-3 py-2 text-sm font-medium border-l-4 rounded-r-lg transition-all duration-200 w-full"),children:[(0,r.jsx)("span",{className:"".concat(e.current?"text-indigo-500":"text-gray-400 group-hover:text-gray-500"," mr-3"),children:e.icon}),(0,r.jsx)("span",{className:"flex-1 text-left",children:e.name}),e.count&&e.count>0&&(0,r.jsx)("span",{className:"ml-auto inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e.count})]},e.id))}),(0,r.jsx)("div",{className:"px-6 py-4 border-t border-gray-100",children:(0,r.jsxs)("button",{onClick:q,className:"group flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 w-full",children:[(0,r.jsx)("svg",{className:"text-gray-400 group-hover:text-red-500 mr-3 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})})]}),(0,r.jsx)("div",{className:"hidden md:flex md:w-64 md:flex-col",children:(0,r.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center flex-shrink-0 px-6 py-6 border-b border-gray-100",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"H"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Hope Pharmacy"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Inventory Management"})]})]}),(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-white font-semibold text-sm",children:[$.charAt(0),ee.charAt(0)||$.charAt(1)]})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:$}),(0,r.jsx)("p",{className:"text-xs text-gray-500 truncate",children:et||J})]}),(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("pharmacist"===J?"bg-green-100 text-green-700":"c-level"===J?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"administrator"===J?"Manager":J})]})}),(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsxs)("button",{className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl px-4 py-3 text-sm font-semibold flex items-center justify-center transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Order"]})}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-2 space-y-1",children:er.map(e=>(0,r.jsxs)("button",{onClick:()=>N(e.id),className:"".concat(e.current?"bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 border-r-2 border-indigo-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"," group flex items-center justify-between px-3 py-3 text-sm font-medium w-full text-left transition-all duration-200 rounded-l-xl"),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-3",children:e.icon}),e.name]}),void 0!==e.count&&e.count>0&&(0,r.jsx)("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none rounded-full ".concat(e.current?"bg-indigo-600 text-white":"bg-gray-400 text-white"),children:e.count})]},e.name))}),(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-t border-gray-100",children:(0,r.jsxs)("button",{onClick:q,className:"w-full bg-gray-50 hover:bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)("div",{className:"md:hidden bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>C(!0),className:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{className:"ml-3 flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-sm",children:"H"})}),(0,r.jsx)("h1",{className:"ml-2 text-lg font-bold text-gray-900",children:"Hope Pharmacy"})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-white font-semibold text-xs",children:[$.charAt(0),ee.charAt(0)||$.charAt(1)]})})})]})}),(0,r.jsx)("header",{className:"hidden md:block bg-white border-b border-gray-200 shadow-sm",children:(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 capitalize",children:y}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:ea})]}),Z&&(0,r.jsx)("div",{className:"ml-8",children:(0,r.jsxs)("button",{onClick:()=>u.push("/admin/dashboard"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),(0,r.jsx)("span",{children:"Management Dashboard"})]})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search...",className:"w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,r.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-600 relative rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 7H3a2 2 0 000 4h18a2 2 0 000-4z"})]}),(0,r.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,r.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-600 relative rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,r.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-white font-semibold text-sm",children:[$.charAt(0),ee.charAt(0)||$.charAt(1)]})}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:$}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:J})]}),(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]})})}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:(0,r.jsxs)("div",{className:"px-6 py-8",children:["dashboard"===y&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Hi, ",$]}),(0,r.jsx)("p",{className:"text-indigo-100 text-lg",children:"Ready to start your day with some pharmacy management?"})]}),(0,r.jsx)("div",{className:"absolute right-8 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("div",{className:"w-40 h-40 bg-white bg-opacity-10 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-20 h-20 text-white opacity-50",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-yellow-400 rounded-xl p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-yellow-100 text-sm font-medium",children:"Open Rate"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:"63%"})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-yellow-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]})}),(0,r.jsx)("div",{className:"bg-indigo-600 rounded-xl p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-indigo-200 text-sm font-medium",children:"Complete"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:"77%"})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-indigo-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),(0,r.jsx)("div",{className:"bg-pink-500 rounded-xl p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-pink-200 text-sm font-medium",children:"Unique Views"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:"91"})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})]})}),(0,r.jsx)("div",{className:"bg-purple-400 rounded-xl p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-purple-200 text-sm font-medium",children:"Total Views"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:"126"})]}),(0,r.jsxs)("svg",{className:"w-8 h-8 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})]})})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900",children:"Inventory Management"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your pharmacy stock efficiently"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"10 Items"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Public"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900",children:"Sales Analytics"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Track your pharmacy sales and revenue"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"15 Reports"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Private"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})]})]})})]})})]}),"timetracking"===y&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Time Tracking"}),(0,r.jsx)("p",{className:"text-blue-100 text-lg",children:"Clock in and out with location verification"})]}),(0,r.jsx)("div",{className:"absolute right-8 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("div",{className:"w-40 h-40 bg-white bg-opacity-10 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-20 h-20 text-white opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Today"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[M,"h"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a1 1 0 012 0v4h4a1 1 0 010 2h-4v4a1 1 0 01-2 0V9H4a1 1 0 010-2h4z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"This Week"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[S,"h"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"This Month"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[W,"h"]})]})]})})]}),(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)(x,{userId:null==g?void 0:g.id,userBranchId:w})})]}),"inventory"===y&&(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inventory Management"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Coming soon - Manage your pharmacy inventory"})]}),"prescriptions"===y&&(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Prescription Management"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Coming soon - Handle prescriptions and orders"})]}),"checklists"===y&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-8 text-white",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Checklists"}),(0,r.jsx)("p",{className:"text-green-100 text-lg",children:"Complete your daily tasks"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-3xl font-bold",children:D.length}),(0,r.jsx)("div",{className:"text-green-200 text-sm",children:"Assigned Checklists"})]})]})}),0===D.length?(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No checklists assigned"}),(0,r.jsx)("p",{className:"text-gray-500",children:"You don't have any checklists assigned to your role yet."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:D.map(e=>{var s;let t=I.find(s=>s.checklist_id===e.id&&s.date_for===new Date().toISOString().split("T")[0]),a=(null==t?void 0:t.completion_percentage)||0,n=(null==t?void 0:t.is_fully_completed)||!1;return(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border transition-all duration-200 hover:shadow-md cursor-pointer ".concat(n?"border-green-200 bg-green-50":"border-gray-100 hover:border-green-200"),onClick:()=>{E(e),Q(e.id)},children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(n?"bg-green-600":"bg-gray-100"),children:n?(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:null===(s=e.folder)||void 0===s?void 0:s.name})]})]}),e.is_daily&&(0,r.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Daily"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round(a),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(n?"bg-green-600":"bg-blue-600"),style:{width:"".concat(a,"%")}})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-500",children:[(null==t?void 0:t.completed_items)||0," of ",(null==t?void 0:t.total_items)||0," tasks"]}),(0,r.jsx)("span",{className:"text-green-600 font-medium",children:n?"Completed":"In Progress"})]})]},e.id)})})]}),"reports"===y&&(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Reports & Analytics"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Coming soon - View reports and analytics"})]}),"settings"===y&&(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsxs)("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"System Settings"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Coming soon - Configure system settings"})]})]})})]})]}),A&&(0,r.jsx)(m,{checklist:A,items:R,userProgress:H,onClose:()=>{E(null),T([])},onItemToggle:X})]})}},9008:function(e,s,t){e.exports=t(3867)}},function(e){e.O(0,[602,891,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);